<div class="cart-container">
  <h2>ğŸ›’ ã‚«ãƒ¼ãƒˆå†…å®¹</h2>

  <div class="cart-items">
    <!-- ã‚«ãƒ¼ãƒˆå†…å•†å“ä¸€è¦§ã‚’ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰å–å¾—ã—ã€å•†å“æƒ…å ±ã‚’ä»˜ä¸ã—ãŸitemsã§ãƒ«ãƒ¼ãƒ— -->
    @if (items.length > 0) { @for (item of items; track $index) {
    <div class="cart-card">
      <img [src]="item.imageUrl" alt="{{ item.name }}" />
      <div class="card-body">
        <div class="product-name">{{ item.name }}</div>
        <div class="product-price">ä¾¡æ ¼: {{ item.price | currency : 'JPY' : 'symbol' : '1.0-0' }}</div>
        <div class="product-stock">åœ¨åº«æ•°: {{ item.stock }}</div>
        <div class="product-quantity">
          <label>
            æ•°é‡:
            <select [formControl]="quantityMap[item.cart_item_id]">
              @for (n of quantityOptions[item.cart_item_id];track $index) {
              <option [value]="n">{{ n }}</option>
              }
            </select>
          </label>
        </div>
        <div class="card-actions">
          <div class="subtotal">å°è¨ˆ: {{ item.price * item.quantity  | currency : 'JPY' : 'symbol' : '1.0-0' }}</div>
          <button class="remove" (click)="removeItem(item.cart_item_id)">å‰Šé™¤</button>
        </div>
      </div>
    </div>
    } } @else {
    <div class="no-products">ã‚«ãƒ¼ãƒˆã«å•†å“ãŒã‚ã‚Šã¾ã›ã‚“</div>
    }
  </div>

  @if (items.length > 0) {
  <div class="cart-footer">
    <p class="total">
      <strong>åˆè¨ˆ: {{ total | currency : 'JPY' : 'symbol' : '1.0-0'  }}</strong>
    </p>

    <button class="return-top" (click)="returnTop()">æˆ»ã‚‹</button>

    <button class="proceed" (click)="onProceedToCheckout()">è³¼å…¥ã™ã‚‹</button>
  </div>
  }
</div>
