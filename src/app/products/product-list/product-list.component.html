<div class="wrapper">
  <div class="side-menu">
    <nav>
      <ul>
        @for (category of getCategories(); track $index) {
        <li>
          <a href="#{{ category.name }}">{{ category.name }}</a>
        </li>
        }
      </ul>
    </nav>
  </div>

  <div class="product-list-container">
    <h2>ğŸ–Š æ–‡æˆ¿å…·ä¸€è¦§</h2>
    <!-- ã‚«ãƒ†ã‚´ãƒªãƒ¼ã”ã¨ã«ãƒ«ãƒ¼ãƒ— -->
    @for (category of getCategories(); track $index) {
    <div class="category-section">
      <hr />
      <h3 class="category-title" id="{{ category.name }}">{{ category.name }}</h3>
      <div class="product-grid">
        @for (product of getProductsByCategory(category.id); track $index) {
        <div
          class="product-card"
          (click)="product.stock > 0 && goToProductDetail(product.id)"
          [class.sold-out]="product.stock == 0"
        >
          <img [src]="getImageUrl(product)" alt="{{ product.name }}" />
          <div class="card-body">
            <div class="product-name">
              {{ product.name }}
              @if (product.stock == 0) {
                <span class="sold-out-label">å£²ã‚Šåˆ‡ã‚Œ</span>
              }
            </div>
            <div class="product-stock">
              åœ¨åº«æ•°: {{ product.stock }}
            </div>
            <div class="product-price">
              ä¾¡æ ¼: {{ product.price | currency : 'JPY' : 'symbol' : '1.0-0' }}
            </div>
          </div>
        </div>
        }
      </div>

      @if (getProductsByCategory(category.id).length === 0) {
      <div class="no-products">ã“ã®ã‚«ãƒ†ã‚´ãƒªã«è©²å½“ã™ã‚‹å•†å“ãŒã‚ã‚Šã¾ã›ã‚“</div>
      }
    </div>
    }
  </div>
</div>
